<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Медиа-центр</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="tab-buttons">
    <button class="tab-button active" onclick="showTab('audio')">Аудио-плеер</button>
    <button class="tab-button" onclick="showTab('video')">Видео-редактор</button>
    <button class="tab-button" onclick="showTab('chat')">Видео-чат</button>
    <button class="tab-button" onclick="showTab('interactive')">Интерактивное видео</button>
</div>

<div id="audio-tab" class="app-container tab-content active">
    <h1>Аудио-плеер</h1>
    <div class="player-container">
        <div>
            <audio id="audioPlayer" controls></audio>
            <div class="controls">
                <button onclick="prevTrack()">Предыдущий</button>
                <button onclick="nextTrack()">Следующий</button>
                <label>Громкость:</label>
                <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="0.7">
            </div>
        </div>
        <div class="playlist" id="playlist">
            <div class="track" data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">SoundHelix Song 1</div>
            <div class="track" data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">SoundHelix Song 2</div>
            <div class="track" data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3">SoundHelix Song 3</div>
            <div class="track" data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3">SoundHelix Song 4</div>
            <div class="track" data-src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3">SoundHelix Song 5</div>
        </div>
    </div>
</div>

<div id="video-tab" class="app-container tab-content">
    <h1>Видео-редактор</h1>
    <div class="video-container">
        <video id="videoEditor" width="800" controls>
            <source src="https://samplelib.com/lib/preview/mp4/sample-5s.mp4" type="video/mp4">
        </video>
        <div class="video-controls">
            <button onclick="changeSpeed(0.5)">0.5x</button>
            <button onclick="changeSpeed(1)">1x</button>
            <button onclick="changeSpeed(1.5)">1.5x</button>
            <button onclick="changeSpeed(2)">2x</button>
            <button onclick="takeScreenshot()">Скриншот</button>
            <label>Громкость:</label>
            <input type="range" id="videoVolume" min="0" max="1" step="0.01" value="1">
            <label>Яркость:</label>
            <input type="range" id="brightnessControl" min="0" max="2" step="0.1" value="1">
        </div>
    </div>
    <div id="screenshotContainer" style="margin-top: 20px;"></div>
</div>

<div id="chat-tab" class="app-container tab-content">
    <h1>Видео-чат</h1>
    <div class="chat-container">
        <div class="video-box">
            <h3>Ваше видео</h3>
            <video id="localVideo" autoplay muted width="100%"></video>
            <div class="controls">
                <button id="toggleVideo">Выключить камеру</button>
                <button id="toggleMic">Выключить микрофон</button>
            </div>
        </div>
        <div class="video-box">
            <h3>Участник чата</h3>
            <video id="remoteVideo" autoplay width="100%"></video>
        </div>
        <div class="text-chat">
            <div class="chat-messages" id="chatMessages"></div>
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Введите сообщение">
                <button onclick="sendMessage()">Отправить</button>
            </div>
        </div>
    </div>
</div>

<div id="interactive-tab" class="app-container tab-content">
    <h1>Интерактивное видео</h1>
    <div class="video-container" style="position: relative;">
        <video id="interactiveVideo" width="800" controls>
            <source src="https://samplelib.com/lib/preview/mp4/sample-10s.mp4" type="video/mp4">
        </video>
        <div id="choicePoints"></div>
        <div id="choicePopup" class="choice-popup"></div>
    </div>
    <div class="progress-container">
        <h3>Прогресс:</h3>
        <div id="progressStatus">Начало</div>
        <button onclick="saveProgress()">Сохранить прогресс</button>
        <button onclick="loadProgress()">Загрузить прогресс</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>